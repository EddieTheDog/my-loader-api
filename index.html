<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loader API</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body, html { 
            height: 100%; margin: 0; 
            display: flex; flex-direction: column;
            align-items: center; justify-content: center; 
            font-family: sans-serif; background: transparent; 
        }
        .error-msg { color: #94a3b8; text-align: center; }
        code { background: #1e293b; padding: 2px 5px; border-radius: 4px; color: #38bdf8; }
    </style>
</head>
<body>
    <div id="api-output"></div>

    <script>
        function renderLoader() {
            // Get the loader type from the URL path (e.g., /ripple)
            const path = window.location.pathname.toLowerCase().replace(/\//g, '');
            
            // Get custom properties from Query Params (e.g., ?color=ff4757)
            const params = new URLSearchParams(window.location.search);
            const color = params.get('color') ? '#' + params.get('color') : '#38bdf8';
            const size = params.get('size') || '60px';
            const speed = params.get('speed') || '1s';

            // Apply variables to the document
            const root = document.documentElement;
            root.style.setProperty('--loader-color', color);
            root.style.setProperty('--loader-size', size);
            root.style.setProperty('--loader-speed', speed);

            const output = document.getElementById('api-output');

            // The Loader Library
            const library = {
                'spinner': '<div class="api-spinner"></div>',
                'ripple': '<div class="api-ripple"></div>',
                'morph': '<div class="api-morph"></div>',
                'dots': '<div class="api-dots"><div class="api-dot"></div><div class="api-dot"></div><div class="api-dot"></div></div>',
                'composite': `
                    <div class="api-composite">
                        <div class="api-spinner" style="width:30px; height:30px;"></div>
                        <div class="api-dots">
                            <div class="api-dot"></div><div class="api-dot"></div><div class="api-dot"></div>
                        </div>
                    </div>`,
                'skeleton': '<div class="api-skeleton" style="width:200px; height:25px;"></div>'
            };

            if (library[path]) {
                output.innerHTML = library[path];
            } else {
                // Default Home/Help Screen
                output.innerHTML = `
                    <div class="error-msg">
                        <h2>Loader API Home</h2>
                        <p>To use a loader, go to: <code>/spinner</code>, <code>/ripple</code>, <code>/morph</code>, <code>/dots</code>, <code>/composite</code>, or <code>/skeleton</code></p>
                        <p>Example: <code>/ripple?color=ff0000&size=100px</code></p>
                    </div>`;
            }
        }

        window.onload = renderLoader;
    </script>
</body>
</html>
